import{_ as e}from"./how-it-works.astro_astro_type_script_index_0_lang.BTqps3kE.js";function t(){(()=>{try{const e=document.querySelector(".proof-cover-img");e&&!e.classList.contains("loaded")&&(e.complete&&0!==e.naturalHeight?e.classList.add("loaded"):e.onload=()=>{e.classList.add("loaded")});const t=document.querySelector(".founder-photo");t&&!t.classList.contains("loaded")&&(t.complete&&0!==t.naturalHeight?t.classList.add("loaded"):t.onload=()=>{t.classList.add("loaded")});const o=document.querySelector(".video-preview-img");o&&!o.classList.contains("loaded")&&(o.complete&&0!==o.naturalHeight?o.classList.add("loaded"):o.onload=()=>{o.classList.add("loaded")})}catch(e){}})(),function(){const e=["в","на","с","по","о","у","за","из","к","до","от","об","под","про","для","без","над","при","через","между","среди","и","а","но","или","как","что","где","чем","оно","они","она","он","ты","мы","вы"];document.querySelectorAll("p, h1, h2, h3, h4, h5, h6, span, li, .final-description, .final-action-text, .idea-item, .insight-text, .insight-subtext").forEach(t=>{if(t.innerHTML.includes("<strong>")||t.innerHTML.includes("<span>")||t.innerHTML.includes("<em>"))return;let o=t.textContent||t.innerText;o&&(e.forEach(e=>{const t=new RegExp(`\\b${e}\\b `,"gi");o=o.replace(t,`${e} `)}),o!==(t.textContent||t.innerText)&&(t.textContent=o))})}()}function o(){!function(){try{const e=document.querySelectorAll('img[loading="lazy"]');if("IntersectionObserver"in window){const t=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const o=e.target;o.complete&&0!==o.naturalHeight?(o.classList.add("loaded"),t.unobserve(o)):(o.addEventListener("load",()=>{o.classList.add("loaded")},{once:!0}),o.addEventListener("error",()=>{o.classList.add("loaded")},{once:!0})),t.unobserve(o)}})},{rootMargin:"50px"});e.forEach(e=>t.observe(e))}else e.forEach(e=>{e.classList.add("loaded")})}catch(e){}}(),function(){try{const e=document.querySelectorAll("video[data-src]"),t=document.querySelector(".solution-videos-scroll");if("IntersectionObserver"in window&&e.length>0){const o=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const o=e.target,n=o.getAttribute("data-src");if(n&&!o.hasAttribute("data-loaded")){const e=o.querySelector("source");e&&(e.src=n,o.load(),o.setAttribute("data-loaded","true"),o.play().catch(()=>{})),o.removeAttribute("data-src"),t.unobserve(o)}}else{const t=e.target;t.hasAttribute("data-loaded")&&t.pause()}})},{root:t,rootMargin:"0px",threshold:.5});if(e.forEach(e=>o.observe(e)),t){let o=null;const n=()=>{o&&window.cancelAnimationFrame(o),o=window.requestAnimationFrame(()=>{const o=t.getBoundingClientRect(),n=o.top+o.height/2;e.forEach(e=>{const t=e.getBoundingClientRect(),s=t.top+t.height/2;Math.abs(s-n)<o.height/3&&e.hasAttribute("data-loaded")?e.play().catch(()=>{}):e.hasAttribute("data-loaded")&&e.pause()})})};t.addEventListener("scroll",n,{passive:!0}),n()}}else e.forEach(e=>{const t=e.getAttribute("data-src");if(t){const o=e.querySelector("source");o&&(o.src=t,e.load()),e.setAttribute("data-loaded","true"),e.removeAttribute("data-src")}})}catch(e){}}()}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{"requestIdleCallback"in window?requestIdleCallback(t,{timeout:3e3}):setTimeout(t,200)},{once:!0}):"requestIdleCallback"in window?requestIdleCallback(t,{timeout:2e3}):setTimeout(t,200),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{"requestIdleCallback"in window?requestIdleCallback(o,{timeout:2e3}):setTimeout(o,500)},{once:!0}):"requestIdleCallback"in window?requestIdleCallback(o,{timeout:2e3}):setTimeout(o,500),function(){function t(){try{if(window.revealInstance)return;if("function"==typeof window.initReveal)window.initReveal();else{const t=()=>{e(()=>import("./reveal.DHE-3gut.js").then(e=>e.a),[]).then(()=>{"function"==typeof window.initReveal&&window.initReveal()}).catch(()=>{})};"requestIdleCallback"in window?requestIdleCallback(t,{timeout:3e3}):setTimeout(t,1e3)}}catch(t){}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{"requestIdleCallback"in window?requestIdleCallback(t,{timeout:3e3}):setTimeout(t,1e3)},{once:!0}):"requestIdleCallback"in window?requestIdleCallback(t,{timeout:3e3}):setTimeout(t,1e3)}(),function(){function e(){if("undefined"==typeof Swiper){const e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js",e.async=!0,e.onload=function(){t()},e.onerror=function(){},document.head.appendChild(e)}else t()}function t(){const e=document.querySelector(".student-models-swiper-main"),t=document.querySelector(".student-models-swiper-wrapper");if(!e||!t)return;new Swiper(".student-models-swiper-main",{direction:"horizontal",loop:!1,speed:300,watchOverflow:!0,slidesPerView:1,spaceBetween:0,centeredSlides:!0,cssMode:!0,simulateTouch:!1,allowTouchMove:!0,passiveListeners:!0,touchStartPreventDefault:!1,touchReleaseOnEdges:!0,freeMode:!1,grabCursor:!1,nested:!1,resistance:!0,resistanceRatio:.85,threshold:10,longSwipes:!1,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,touchRatio:1,touchAngle:45,touchEventsTarget:"container",preventClicks:!0,preventClicksPropagation:!0,autoplay:!1,pagination:!1,navigation:!1,breakpoints:{320:{slidesPerView:1,spaceBetween:0,centeredSlides:!0},768:{slidesPerView:1,spaceBetween:0,centeredSlides:!0},1024:{slidesPerView:1,spaceBetween:0,centeredSlides:!0}},on:{init:function(e){}}});const o=document.querySelector(".student-models-swiper-main");o&&o.addEventListener("touchstart",function(e){0===window.scrollY&&window.scrollTo(0,1)},{passive:!0}),e.querySelectorAll(".student-model-image-wrapper").forEach(e=>{e.addEventListener("click",function(t){const o=e.querySelector(".student-model-photo");if(o&&o.src){let e=document.getElementById("photoModal");e||(e=document.createElement("div"),e.id="photoModal",e.className="modal",e.style.display="none",e.innerHTML='<span class="modal-close">&times;</span><img class="modal-image" alt="">',document.body.appendChild(e));const t=e.querySelector(".modal-image"),n=e.querySelector(".modal-close");t&&(t.src=o.src,t.alt=o.alt||"Модель ученика",e.style.display="flex",document.body.style.overflow="hidden"),n&&(n.onclick=function(){e.style.display="none",t.src="",document.body.style.overflow=""}),e.onclick=function(o){o.target===e&&(e.style.display="none",t.src="",document.body.style.overflow="")},document.addEventListener("keydown",function o(n){"Escape"===n.key&&"flex"===e.style.display&&(e.style.display="none",t.src="",document.body.style.overflow="",document.removeEventListener("keydown",o))})}})})}function o(){"requestIdleCallback"in window?requestIdleCallback(()=>{e()},{timeout:3e3}):setTimeout(()=>{e()},300)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o,{once:!0}):o()}();
